<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Retirement Calculator</title>
    </head>
    <body class="m-5">
        <h1 class="title is-2">Retirement Calculator</h1>
        <h2 class="subtitle is-4">
            A generic calculator to help you figure out how much you'll have when you
            retire.
        </h2>
        <div id="app" class="">
            <h3 class="is-sr-only">Inputs</h3>
            <div id="controls" class="grid is-col-min-12 mb-5"></div>
            <h3 class="is-sr-only">Chart</h3>
            <div id="chart-container" class="column"></div>
            <h3 class="is-sr-only">Data table</h3>
            <details class="my-6">
                <summary>Show table</summary>
                <table class="table m-auto">
                    <caption class="is-sr-only">
                        A table containing the same data as the chart
                    </caption>
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Investments/Savings</th>
                            <th>Income</th>
                            <th>Living costs</th>
                        </tr>
                    </thead>
                    <tbody id="data-table"></tbody>
                </table>
            </details>
            <div class="content mt-5">
                <div id="how-it-works">
                    <h3 class="">How it works</h3>
                    <div class="message is-info">
                        <div class="message-body">
                            This calculator is only meant to serve as a ballpark estimate
                            and is by no means 100% accurate because we have to make
                            simplified assumptions for certain things.
                        </div>
                    </div>
                    <p>
                        The living costs are calculated using the value for contributions
                        towards saving:
                        <code>living costs = salary * (100% - contributions)</code>. From
                        there, for each year the salary is increased by the specified
                        factor and the living costs by inflation rate.
                    </p>
                    <p>
                        The annual savings are calculated by subtracting living costs from
                        the salary and then adding the result to the total savings. We
                        multiply each year's total savings by the annual rate of return.
                        Specifically, the total savings available for any given year is
                        equal to
                        <code
                            >(previous year's total savings) * rate of return + current
                            year's savings</code
                        >. This is similar to how a savings account typically works, and
                        for simplicity, we apply the same logic to investments.
                    </p>
                    <p>
                        There is a simplification in how the tax is applied, however. Most
                        people invest in ETFs or mutual funds and do not withdraw from
                        these investments until needed. Therefore, the calculator assumes
                        that taxes are paid only when you sell your investments (capital
                        gains tax) and ignores taxes on dividends. This is partly because
                        the applicable tax depends on the country; it might be income tax
                        or capital gains tax. To account for this inaccuracy, you can use
                        a slightly lower value for the rate of return.
                    </p>
                    <p>
                        Note that this calculator does not consider expenses like a
                        mortgage, which would end after a certain number of years. To
                        account for that, you could, for example, subtract the annual
                        mortgage payments from your salary instead.
                    </p>
                    <p>
                        Once living costs exceed income, we start using our savings. In
                        this case, we use the tax rate to calculate how much we need to
                        withdraw or sell to cover the deficit for that year. This is
                        another simplification because, in the case of investments, it
                        might not always be possible to sell the exact amount needed.
                    </p>
                </div>
                <hr />
                <div id="footnotes"></div>
            </div>
        </div>
        <script type="module" src="/src/main.ts"></script>
    </body>
</html>
